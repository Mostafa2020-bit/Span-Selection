# Span-Selection
How can we decide what span to use in LOESS regression in R?
Sometimes we find that a low-order polynomial provides a poor fit to the data. Increasing the order of the polynomial modestly does not substantially improve situation. The usual ap- proach is to divide the range of x into segments and fit an appropriate curve in each segment Figure 1. Some form of piecewise polynomial: Spline, Cubic B-spline, and nonparametric approach. An excellent description of Spline appraoch is in Smith (1979). A potential dis- advantage of this method is that the correlation from of X′X matrix becomes ill-condtioned if there are a large number of knots. This problem can be overcome by using a different representation of the spline called the cubic B-spline. Nonparametric regression is closely related to piecewise polynomial regression. The basic idea of nonparametric regression is to develop a model-free basis for predicting the response over the range of the data. One of approach is locally weighted regression, often called loess.
Local regression is used to model a relation between a predictor variable and response vari- able. When one wants to fit a loess smooth for a target covariate, the first step in loess is to define a weight function. For computational and theoretical purposes we need to define this weight function so that only values within a smoothing window will be considered in the estimate of functional part of local regression. This smoothing window is based on a value that is called the span or bandwidth. Within the smoothing window, f(x) is approximated by a polynomial. Friedman (1984) proposed using a cross-validation approach to select span. In this R code, we would explain how we can write an R code for Friedman’s algorithm.
